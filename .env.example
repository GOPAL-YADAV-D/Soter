# Soter - Secure File Vault System Environment Configuration
# =============================================================
# Copy this file to .env and update the values for your environment
# Never commit .env files with real credentials to version control

# =============================================================
# SERVER CONFIGURATION
# =============================================================

# Server host and port configuration
HOST=0.0.0.0
PORT=8080

# Application environment (development, staging, production)
NODE_ENV=development
GO_ENV=development

# Logging level (debug, info, warn, error)
LOG_LEVEL=info

# =============================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================

# PostgreSQL connection settings
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=soter
DB_SSLMODE=disable

# Database connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=5m

# Test database (for running tests)
TEST_DB_NAME=soter_test

# =============================================================
# AZURE BLOB STORAGE CONFIGURATION
# =============================================================

# Production Azure Blob Storage settings
# Get these from your Azure Storage Account in the Azure Portal
AZURE_STORAGE_ACCOUNT=your-storage-account-name
AZURE_STORAGE_KEY=your-storage-account-key-here
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-storage-account;AccountKey=your-key;EndpointSuffix=core.windows.net

# Azure Blob Storage container for file storage
AZURE_STORAGE_CONTAINER=files

# Azure Storage endpoint (leave empty for default Azure endpoints)
AZURE_STORAGE_ENDPOINT=

# Azure Storage region (optional)
AZURE_STORAGE_REGION=eastus

# =============================================================
# AZURITE CONFIGURATION (Local Development)
# =============================================================

# Azurite (Azure Storage Emulator) settings for local development
# These are the default Azurite credentials - DO NOT use in production
AZURITE_STORAGE_ACCOUNT=devstoreaccount1
AZURITE_STORAGE_KEY=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
AZURITE_STORAGE_ENDPOINT=http://localhost:10000/devstoreaccount1

# Azurite service ports
AZURITE_BLOB_PORT=10000
AZURITE_QUEUE_PORT=10001
AZURITE_TABLE_PORT=10002

# =============================================================
# SECURITY CONFIGURATION
# =============================================================

# JWT secret key for token signing
# Generate a strong random key for production: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-please-make-it-long-and-random

# JWT token expiration time
JWT_EXPIRATION=24h

# Password hashing settings (Argon2id)
PASSWORD_HASH_MEMORY=65536
PASSWORD_HASH_TIME=3
PASSWORD_HASH_THREADS=2
PASSWORD_HASH_KEY_LENGTH=32

# CORS settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# =============================================================
# RATE LIMITING & QUOTAS
# =============================================================

# Rate limiting configuration (requests per second per user)
RATE_LIMIT_RPS=2
RATE_LIMIT_BURST=5

# User storage quota in megabytes
STORAGE_QUOTA_MB=10

# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE_BYTES=104857600  # 100MB

# Maximum files per upload batch
MAX_FILES_PER_BATCH=10

# =============================================================
# MONITORING & OBSERVABILITY
# =============================================================

# Prometheus metrics endpoint configuration
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Health check configuration
HEALTH_CHECK_TIMEOUT=5s
HEALTH_CHECK_INTERVAL=30s

# Request timeout settings
REQUEST_TIMEOUT=30s
SHUTDOWN_TIMEOUT=30s

# =============================================================
# FRONTEND CONFIGURATION
# =============================================================

# React app API endpoints
REACT_APP_API_URL=http://localhost:8080
REACT_APP_GRAPHQL_URL=http://localhost:8080/query
REACT_APP_WS_URL=ws://localhost:8080/graphql

# Frontend build settings
REACT_APP_VERSION=1.0.0
REACT_APP_BUILD_TIME=2025-09-20T00:00:00Z

# =============================================================
# EXTERNAL SERVICES
# =============================================================

# Prometheus configuration
PROMETHEUS_URL=http://localhost:9090

# Grafana configuration
GRAFANA_URL=http://localhost:3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# =============================================================
# VIRUS SCANNING (Future Feature)
# =============================================================

# ClamAV configuration (when implemented)
CLAMAV_ENABLED=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# =============================================================
# EMAIL CONFIGURATION (Future Feature)
# =============================================================

# SMTP settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@soter.local

# =============================================================
# BACKUP CONFIGURATION
# =============================================================

# Database backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# =============================================================
# DEVELOPMENT & DEBUGGING
# =============================================================

# Debug settings
DEBUG=false
VERBOSE_LOGGING=false

# Development tools
HOT_RELOAD=true
AUTO_MIGRATE=true

# Performance profiling
PPROF_ENABLED=false
PPROF_PORT=6060

# =============================================================
# PRODUCTION OVERRIDES
# =============================================================
# Uncomment and modify these for production deployment

# Production database settings
# DB_HOST=your-production-db-host.com
# DB_SSLMODE=require
# DB_PASSWORD=your-secure-production-password

# Production Azure Storage
# AZURE_STORAGE_ACCOUNT=your-prod-storage-account
# AZURE_STORAGE_KEY=your-production-storage-key

# Production security
# JWT_SECRET=your-super-secure-production-jwt-secret-64-chars-minimum
# CORS_ALLOWED_ORIGINS=https://your-domain.com

# Production performance
# RATE_LIMIT_RPS=10
# STORAGE_QUOTA_MB=1000
# MAX_FILE_SIZE_BYTES=1073741824  # 1GB